<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bingstrap</title>
    <link rel="apple-touch-icon" sizes="57x57" href="images/logo/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/logo/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/logo/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/logo/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/logo/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/logo/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/logo/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/logo/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/logo/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="images/logo/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/logo/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/logo/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="images/logo/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" href="css/home.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<div class="body-container">
    <!--Fixed background container starts-->
    <div class="background-container">

    </div>
    <!--Fixed background container ends-->

    <div class="fixed-section">
        <!--Navbar starts-->
        <nav class="navbar navbar-expand navbar-light bg-transparent">
            <div class="navbar-nav">
                <a class="nav-item nav-link active" href="#">Web</a>
                <a class="nav-item nav-link" href="#">Images</a>
                <a class="nav-item nav-link" href="#">Videos</a>
                <a class="nav-item nav-link" href="#">Maps</a>
                <a class="nav-item nav-link" href="#">News</a>
                <a class="nav-item nav-link" href="#">MSN</a>
                <a class="nav-item nav-link" href="#">Office Online</a>
                <a class="nav-item nav-link" href="#">Outlook.com</a>
                <div class="float-right">
                    <a class="nav-item nav-link" href="#">Sign in <i class="material-icons float-right">account_circle</i></a>
                    <a class="nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#"><i class="material-icons">menu</i></a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Settings</a>
                        <a class="dropdown-item" href="#">Search history</a>
                        <a class="dropdown-item" href="#">My interests</a>
                        <a class="dropdown-item" href="#">My saves</a>
                        <a class="dropdown-item" href="#">Fun & Games</a>
                        <a class="dropdown-item" href="#">Feedback</a>
                        <a class="dropdown-item" href="#">Safesearch</a>
                    </div>
                </div>
                <div class="float-none"></div>
            </div>
        </nav>
        <!--Navbar ends-->

        <!--Search container starts-->
        <div class="search-container">
            <div class="container">
                <div class="brand-logo">
                    <a href="#">Bingstrap</a>
                </div>
                <div class="search-box">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="input-group input-group-lg">
                                <input type="text" class="form-control" id="searchInput" placeholder="Search..." aria-label="Search...">
                                <span class="input-group-btn">
        <button class="btn btn-primary" type="button"><i class="material-icons">search</i></button>
      </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Search container ends-->
    </div>

    <div class="extra-content">

        <!--Carousel container starts-->
        <div class="carousel-container">
            <div class="prev-button"><i class="material-icons">chevron_left</i></div>
            <div class="next-button"><i class="material-icons">chevron_right</i></div>
            <div class="container-slider"></div>
        </div>
        <!--Carousel container ends-->

        <div class="gallery-container">
            <div class="row">
                <div class="col-6 big-image">
                    <picture>
                        <source srcset="images/posts/17.webp" type="image/webp">
                        <img src="images/posts/17.jpg" alt="">
                    </picture>
                </div>
                <div class="col-2">
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/6.webp" type="image/webp">
                            <img src="images/posts/6.jpg" alt="">
                        </picture>
                    </div>
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/14.webp" type="image/webp">
                            <img src="images/posts/14.jpg" alt="">
                        </picture>
                    </div>
                </div>
                <div class="col-2">
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/5.webp" type="image/webp">
                            <img src="images/posts/5.jpg" alt="">
                        </picture>
                    </div>
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/2.webp" type="image/webp">
                            <img src="images/posts/2.jpg" alt="">
                        </picture>
                    </div>
                </div>
                <div class="col-2">
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/19.webp" type="image/webp">
                            <img src="images/posts/19.jpg" alt="">
                        </picture>
                    </div>
                    <div class="small-image">
                        <picture>
                            <source srcset="images/posts/9.webp" type="image/webp">
                            <img src="images/posts/9.jpg" alt="">
                        </picture>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chance/1.0.11/chance.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.ui.min.js"></script>
<script>
    $("#searchInput").on('focus', function () {
//       $(".gradient-overlay").css({"background-image": "linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65))"});
       $(".gradient-overlay").css({"background": "linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"});
    }).on('blur', function () {
        $(".gradient-overlay").css({"background": "linear-gradient(rgba(0, 0, 0, 0.5) 0, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.5) 100%)"});
    });

    //Function for generating carousel items
    var chance = new Chance();
    $(".background-container").html('<picture><source srcset="images/background/' + chance.integer({min: 1, max: 3}) +'.webp" type="image/webp"><img src="images/background/' + chance.integer({min: 1, max: 3}) +'.jpg" alt=""></picture><div class="gradient-overlay"></div>')
    var itemCount = chance.integer({min: 8, max: 30});

    for(var i=1; i<=itemCount; i++) {
        var itemTitle = chance.sentence({words: 3});
        var imgSrc = chance.integer({min: 1, max: 20});
        $(".container-slider").append('<a href="#" class="item"><div class="item-title">' + itemTitle + '</div><div class="item-image"><picture><source srcset="images/posts/' + imgSrc + '.webp" type="image/webp"><img src="images/posts/' + imgSrc + '.jpg" alt=""></picture></div></a>');
    }
    $(".carousel-container").velocity('transition.slideUpBigIn', 1500);
    var itemsLength = $(".item").length;
    var totalItemWidth = itemsLength * $(".item").outerWidth();
    var alreadyScrolled = 0;
    $(".prev-button").on('click', function () {
        var slider = $(".container-slider");
        if(itemsLength > 5) {
            if((totalItemWidth - (1050 + alreadyScrolled)) < 1050) {
                alreadyScrolled -= 1050;
                slider.animate({scrollLeft: alreadyScrolled}, 500);
                ctrlButton(".prev-button", "show");
                ctrlButton(".next-button", "show");
            } else {
                alreadyScrolled = 0;
                slider.animate({scrollLeft: alreadyScrolled}, 500);
                ctrlButton(".prev-button", "hide");
                ctrlButton(".next-button", "show");
            }
        }
    });
    $(".next-button").on('click', function () {
        var slider = $(".container-slider");
        if(itemsLength > 5) {
            if((totalItemWidth - (1050 + alreadyScrolled)) > 1050) {
                alreadyScrolled += 1050;
                slider.animate({scrollLeft: alreadyScrolled}, 500);
                ctrlButton(".next-button", "show");
                ctrlButton(".prev-button", "show");
            } else {
                alreadyScrolled = totalItemWidth;
                slider.animate({scrollLeft: alreadyScrolled}, 500);
                ctrlButton(".next-button", "hide");
                ctrlButton(".prev-button", "show");
            }
        }
    });
    ctrlButton(".prev-button","hide");
    if(itemsLength <= 5) {
        ctrlButton(".prev-button","hide");
        ctrlButton(".next-button","hide");
    }
    function ctrlButton(elName, elState) {
        if(elState == "hide") {
            $(elName).css({opacity: 0, cursor: 'default'});
        }
        if(elState == "show") {
            $(elName).css({opacity: 1, cursor: 'pointer'});
        }
    }

</script>
</body>
</html>